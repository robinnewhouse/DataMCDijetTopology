#ifndef DMDHistoTagged_h
#define DMDHistoTagged_h

#include <TH1F.h>
#include <unordered_map>

class DMDHistoTagged {
private:
    TH1F* h_inclusive;
    std::unordered_map<std::string, TH1F*> h_tagged;
    std::unordered_map<std::string, TH1F*> h_vetoed;

public:
    DMDHistoTagged(std::string var_name_, float x_min_, float x_max_, float bin_spacing_);

    virtual ~DMDHistoTagged(void);

    const std::string var_name;
    const float x_min;
    const float x_max;
    const float bin_spacing;
    const int num_bins;

    inline void fill(float val, float weight) {
        h_inclusive->Fill(val, weight);
    };

    void fill_tagged(const std::string tag_name, float val, float weight, bool tag_condition);

    void add(const DMDHistoTagged* ht);

    void write_all(void) const;

    ClassDef(DMDHistoTagged, 0);
};


#endif // #ifdef DMDHistoTagged_h
